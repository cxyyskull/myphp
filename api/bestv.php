{"payload":{"allShortcutsEnabled":true,"fileTree":{"PHP":{"items":[{"name":"README.md","path":"PHP/README.md","contentType":"file"},{"name":"allinone.php","path":"PHP/allinone.php","contentType":"file"},{"name":"bestv.php","path":"PHP/bestv.php","contentType":"file"},{"name":"cqyx.php","path":"PHP/cqyx.php","contentType":"file"},{"name":"douyin.php","path":"PHP/douyin.php","contentType":"file"},{"name":"gdtv.php","path":"PHP/gdtv.php","contentType":"file"},{"name":"ghyx.php","path":"PHP/ghyx.php","contentType":"file"},{"name":"gudou.php","path":"PHP/gudou.php","contentType":"file"},{"name":"itouch.php","path":"PHP/itouch.php","contentType":"file"},{"name":"sencond-xxtv4k.php","path":"PHP/sencond-xxtv4k.php","contentType":"file"},{"name":"sxg.php","path":"PHP/sxg.php","contentType":"file"},{"name":"tvb.php","path":"PHP/tvb.php","contentType":"file"},{"name":"xxtv4k.php","path":"PHP/xxtv4k.php","contentType":"file"}],"totalCount":13},"":{"items":[{"name":".github","path":".github","contentType":"directory"},{"name":".idea","path":".idea","contentType":"directory"},{"name":"Golang","path":"Golang","contentType":"directory"},{"name":"PHP","path":"PHP","contentType":"directory"},{"name":"logo","path":"logo","contentType":"directory"},{"name":"main","path":"main","contentType":"directory"},{"name":"Dockerfile","path":"Dockerfile","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"}],"totalCount":9}},"fileTreeProcessingTime":18.617338,"foldersToFetch":[],"reducedMotionEnabled":"system","repo":{"id":582059828,"defaultBranch":"main","name":"LiveRedirect","ownerLogin":"youshandefeiyang","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2022-12-25T21:59:21.000+08:00","ownerAvatar":"https://avatars.githubusercontent.com/u/63959400?v=4","public":true,"private":false},"refInfo":{"name":"main","listCacheKey":"v0:1683386422.0","canEdit":true,"refType":"branch","currentOid":"55d4641a5731c42c449dd98ff23cf2807776159c"},"path":"PHP/bestv.php","currentUser":{"id":96327842,"login":"cxyyskull","userEmail":"cxyyhhzx119@gmail.com"},"blob":{"rawBlob":"<?php\ndate_default_timezone_set(\"Asia/Shanghai\");\n$channel = empty($_GET['id']) ? \"cctv16hd4k/15000000\" : trim($_GET['id']);\n$array = explode(\"/\", $channel);\n$stream = \"http://可用IP或域名/live/program/live/{$array[0]}/{$array[1]}/\";\n$timestamp = substr(time(), 0, 9) - 7;\n$current = \"#EXTM3U\" . \"\\r\\n\";\n$current .= \"#EXT-X-VERSION:3\" . \"\\r\\n\";\n$current .= \"#EXT-X-TARGETDURATION:3\" . \"\\r\\n\";\n$current .= \"#EXT-X-MEDIA-SEQUENCE:{$timestamp}\" . \"\\r\\n\";\nfor ($i = 0; $i < 3; $i++) {\n    $timematch = $timestamp . '0';\n    $timefirst = date('YmdH', $timematch);\n    $current .= \"#EXTINF:3,\" . \"\\r\\n\";\n    $current .= $stream . $timefirst . \"/\" . $timestamp . \".ts\" . \"\\r\\n\";\n    $timestamp = $timestamp + 1;\n}\nheader(\"Content-Disposition: attachment; filename=playlist.m3u8\");\necho $current;\n","colorizedLines":["<span class=pl-ent>&lt;?php</span>","date_default_timezone_set(&quot;<span class=pl-s>Asia/Shanghai</span>&quot;);","<span class=pl-s1><span class=pl-c1>$</span>channel</span> = empty(<span class=pl-s1><span class=pl-c1>$</span><span class=pl-c1>_GET</span></span>[<span class=pl-s>&#39;id&#39;</span>]) ? &quot;<span class=pl-s>cctv16hd4k/15000000</span>&quot; : trim(<span class=pl-s1><span class=pl-c1>$</span><span class=pl-c1>_GET</span></span>[<span class=pl-s>&#39;id&#39;</span>]);","<span class=pl-s1><span class=pl-c1>$</span>array</span> = explode(&quot;<span class=pl-s>/</span>&quot;, <span class=pl-s1><span class=pl-c1>$</span>channel</span>);","<span class=pl-s1><span class=pl-c1>$</span>stream</span> = &quot;<span class=pl-s>http://可用IP或域名/live/program/live/</span>{<span class=pl-s1><span class=pl-c1>$</span>array</span>[<span class=pl-c1>0</span>]}<span class=pl-s>/</span>{<span class=pl-s1><span class=pl-c1>$</span>array</span>[<span class=pl-c1>1</span>]}<span class=pl-s>/</span>&quot;;","<span class=pl-s1><span class=pl-c1>$</span>timestamp</span> = substr(time(), <span class=pl-c1>0</span>, <span class=pl-c1>9</span>) - <span class=pl-c1>7</span>;","<span class=pl-s1><span class=pl-c1>$</span>current</span> = &quot;<span class=pl-s>#EXTM3U</span>&quot; . &quot;\\r\\n&quot;;","<span class=pl-s1><span class=pl-c1>$</span>current</span> .= &quot;<span class=pl-s>#EXT-X-VERSION:3</span>&quot; . &quot;\\r\\n&quot;;","<span class=pl-s1><span class=pl-c1>$</span>current</span> .= &quot;<span class=pl-s>#EXT-X-TARGETDURATION:3</span>&quot; . &quot;\\r\\n&quot;;","<span class=pl-s1><span class=pl-c1>$</span>current</span> .= &quot;<span class=pl-s>#EXT-X-MEDIA-SEQUENCE:</span>{<span class=pl-s1><span class=pl-c1>$</span>timestamp</span>}&quot; . &quot;\\r\\n&quot;;","for (<span class=pl-s1><span class=pl-c1>$</span>i</span> = <span class=pl-c1>0</span>; <span class=pl-s1><span class=pl-c1>$</span>i</span> &lt; <span class=pl-c1>3</span>; <span class=pl-s1><span class=pl-c1>$</span>i</span>++) {","    <span class=pl-s1><span class=pl-c1>$</span>timematch</span> = <span class=pl-s1><span class=pl-c1>$</span>timestamp</span> . <span class=pl-s>&#39;0&#39;</span>;","    <span class=pl-s1><span class=pl-c1>$</span>timefirst</span> = date(<span class=pl-s>&#39;YmdH&#39;</span>, <span class=pl-s1><span class=pl-c1>$</span>timematch</span>);","    <span class=pl-s1><span class=pl-c1>$</span>current</span> .= &quot;<span class=pl-s>#EXTINF:3,</span>&quot; . &quot;\\r\\n&quot;;","    <span class=pl-s1><span class=pl-c1>$</span>current</span> .= <span class=pl-s1><span class=pl-c1>$</span>stream</span> . <span class=pl-s1><span class=pl-c1>$</span>timefirst</span> . &quot;<span class=pl-s>/</span>&quot; . <span class=pl-s1><span class=pl-c1>$</span>timestamp</span> . &quot;<span class=pl-s>.ts</span>&quot; . &quot;\\r\\n&quot;;","    <span class=pl-s1><span class=pl-c1>$</span>timestamp</span> = <span class=pl-s1><span class=pl-c1>$</span>timestamp</span> + <span class=pl-c1>1</span>;","}","header(&quot;<span class=pl-s>Content-Disposition: attachment; filename=playlist.m3u8</span>&quot;);","<span class=pl-k>echo</span> <span class=pl-s1><span class=pl-c1>$</span>current</span>;"],"stylingDirectives":null,"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/youshandefeiyang/LiveRedirect/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":false,"repoAlertsPath":"/youshandefeiyang/LiveRedirect/security/dependabot","repoSecurityAndAnalysisPath":"/youshandefeiyang/LiveRedirect/settings/security_analysis","repoOwnerIsOrg":false,"currentUserCanAdminRepo":false},"displayName":"bestv.php","displayUrl":"https://github.com/youshandefeiyang/LiveRedirect/blob/main/PHP/bestv.php?raw=true","headerInfo":{"blobSize":"794 Bytes","deleteInfo":{"deletePath":"https://github.com/youshandefeiyang/LiveRedirect/delete/main/PHP/bestv.php","deleteTooltip":"Delete the file in your fork of this project"},"editInfo":{"editTooltip":"Edit the file in your fork of this project"},"ghDesktopPath":"x-github-client://openRepo/https://github.com/youshandefeiyang/LiveRedirect?branch=main&filepath=PHP%2Fbestv.php","gitLfsPath":null,"onBranch":true,"shortPath":"b9a3c13","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fyoushandefeiyang%2FLiveRedirect%2Fblob%2Fmain%2FPHP%2Fbestv.php","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"19","truncatedSloc":"19"},"mode":"file"},"image":false,"isCodeownersFile":null,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"PHP","large":false,"loggedIn":true,"newDiscussionPath":"/youshandefeiyang/LiveRedirect/discussions/new","newIssuePath":"/youshandefeiyang/LiveRedirect/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/youshandefeiyang/LiveRedirect/blob/main/PHP/bestv.php","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/youshandefeiyang/LiveRedirect/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"youshandefeiyang","repoName":"LiveRedirect","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":false,"symbols":[]}},"csrf_tokens":{"/youshandefeiyang/LiveRedirect/branches":{"post":"E5oX1VY3IxhxCG3ngbzeTLgI67ncvzwe0c8pVISn_2zJg5THShBbGmdihBECSHTKpuN_cDyArJNpHTYhe1npbA"}}},"title":"LiveRedirect/bestv.php at main · youshandefeiyang/LiveRedirect","locale":"en"}